<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Fanmatch</title>
  <link rel="icon" type="image/png" href="./data/logos/favicon.png" />
  <meta name="description" content="Platform were you can see sports with your friends">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="style.css">
  <!-- Utils -->
  <script type="text/javascript" src="./utils/utils.js"></script>
</head>

<body class="vh-100 vw-100">
  <div id="main_page" class="container vh-100 vw-100" style="max-width: none; display:none;">
    <div class="row" style="height: 10vh; width: 100vw;">
      <!-- Navbar area -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse order-md-0" id="navbarSupportedContent">

            <div class="order-0 me-auto w-100">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a id="nb_home" class="nav-link active" aria-current="page" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white"
                      class="bi bi-house-door-fill" viewBox="0 0 16 16">
                      <path
                        d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z" />
                    </svg>
                  </a>
                </li>
              </ul>
            </div>

            <div class="order-1 mx-auto">
              <a class="navbar-brand mx-auto" href="#">
                <img src="./data/logos/fan_match_logo.png" height="30" class="d-inline-block align-top" alt="">
              </a>
            </div>

            <div class="order-2 w-100 d-flex">
              <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a id="nb_logout" class="nav-link" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white"
                      class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                      <path fill-rule="evenodd"
                        d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z" />
                      <path fill-rule="evenodd"
                        d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                    </svg>
                  </a>
                </li>
              </ul>
            </div>

          </div>
        </div>
      </nav>

      <script type="text/javascript" src="nav_bar.js"></script>
      <!-- End Navbar area -->
    </div>
    <div class="row bg-dark" id="venv_page" style="height: 90vh; display:none;">
      <canvas></canvas>

      <!-- Join area enter secret code popup from room-->
      <div id="join_room_pu_fake_bg_from_room" class="position-absolute bg-dark"
        style="opacity: 0.8 !important;display:none;width:100vw;height: 90vh;"></div>
      <div id="join_room_pu_area_from_room"
        class="col bg-light text-dark d-flex justify-content-center align-items-center position-absolute top-50 start-50 translate-middle w-25 border border-dark rounded"
        style="display:none!important;">
        <div id="join_room_pu_content_from_room">
          <h1 id="join_room_pu_area_title_from_room" class="my-1">Room Name</h1>
          <form id="join_room_pu_form_from_room" method="POST" autocomplete="new-password">
            <label for="join_room_pu_scode_from_room" class="my-1">Secret Code:</label>
            <input type="password" id="join_room_pu_scode_from_room" name="join_room_pu_scode" value=""
              class="form-control" required autocomplete="new-password">
            <input type="submit" value="Join" class="btn btn-dark my-3">
          </form>
        </div>
      </div>

      <div class="accordion position-absolute bottom-0 start-0 w-25" id="accordionExampleFriends">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOneFriends">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseOneFriends" aria-expanded="false" aria-controls="collapseOneFriends">
              Friends Chat
            </button>
          </h2>
          <div id="collapseOneFriends" class="accordion-collapse collapse" aria-labelledby="headingOneFriends"
            data-bs-parent="#accordionExampleFriends">
            <div class="accordion-body">

              <div id="fc_area" class="overflow-auto" style="max-height: 24vh;">
                <!-- Friends list  -->
                <div class="fc_friend border rounded py-1 px-2 my-1"
                  style="border-color: rgb(0,0,0,0.3)!important; display: none">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green"
                    class="fc_status_conn bi bi-circle-fill" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="8" />
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red"
                    class="fc_status_disc bi bi-circle-fill" style="display: none;" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="8" />
                  </svg>
                  <span class="fc_username text-break">Username</span>
                  <div class="d-inline-block float-end">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="fc_chat bi bi-chat-fill" viewBox="0 0 16 16" style="cursor: pointer;">
                      <path
                        d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="fc_back bi bi-arrow-left-circle-fill" style="cursor: pointer; display: none;"
                      viewBox="0 0 16 16">
                      <path
                        d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="fc_join bi bi-door-open-fill" viewBox="0 0 16 16" style="cursor: pointer;">
                      <path
                        d="M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z" />
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Template friend chat -->
              <div id="fc_msgs_area">
                <div class="fc_msg_area px-1 py-1 bg-white overflow-auto" style="height: 35vh; display: none;">
                  <!-- Messages of each friend -->
                </div>
              </div>

              <div id="fc_input_area" style="display: none;">
                <div class="input-group">
                  <input id="fc_input" type="text" class="form-control" placeholder="Your message"
                    aria-label="Your message" aria-describedby="basic-addon2">
                  <div class="input-group-append">
                    <button id="fc_button" class="btn btn-outline-secondary" type="button">Send</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwoFriends">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwoFriends" aria-expanded="false" aria-controls="collapseTwoFriends">
              Add friends
            </button>
          </h2>
          <div id="collapseTwoFriends" class="accordion-collapse collapse" aria-labelledby="headingTwoFriends"
            data-bs-parent="#accordionExampleFriends">
            <div class="accordion-body">
              <div id="af_input_area">
                <p class="fw-bold fs-5 m-1">Add friends</p>
                <div class="input-group">
                  <input id="af_input" type="text" class="form-control" placeholder="Friend's username"
                    aria-label="Friend's username" aria-describedby="basic-addon2">
                  <div class="input-group-append">
                    <button id="af_button" class="btn btn-outline-secondary" type="button">Send</button>
                  </div>
                </div>
              </div>
              <hr>
              <p class="fw-bold fs-5 m-1">Friends requests</p>
              <div id="fr_area" class="overflow-auto" style="max-height: 24vh;">
                <!-- Friend request template  -->
                <div class="fr_req border rounded py-1 px-2 my-1"
                  style="border-color: rgb(0,0,0,0.3)!important; display: none;">
                  <span class="fr_username text-break">Username</span>
                  <div class="d-inline-block float-end">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green"
                      class="fr_accept bi bi-check-circle-fill" viewBox="0 0 16 16" style="cursor: pointer;">
                      <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red"
                      class="fr_reject bi bi-x-circle-fill ms-1" viewBox="0 0 16 16" style="cursor: pointer;">
                      <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="settings_acc_elem" style="display: none;">
        <div class="owner_settings accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Room settings
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#accordion_chat">
            <div class="accordion-body">

              <div id="carouselExampleInterval" class="carousel carousel-dark slide" data-bs-interval="false">
                <div class="carousel-inner">
                  <div class="carousel-item active" data-bs-interval="false">
                    <p>Room 1</p>
                    <img src="data/room_designs/room1.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item" data-bs-interval="false">
                    <p>Room 2</p>
                    <img src="data/room_designs/room2.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item" data-bs-interval="false">
                    <p>Room 3</p>
                    <img src="data/room_designs/room3.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item" data-bs-interval="false">
                    <p>International</p>
                    <img src="data/room_designs/inter_room.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item" data-bs-interval="false">
                    <p>Racing</p>
                    <img src="data/room_designs/racing_room.png" class="d-block w-100" alt="...">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval"
                  data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
                  data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
              <button id="preview_room_texture" type="button" class="btn btn-secondary mt-1">Preview</button>
              <button id="save_room_texture" type="button" class="btn btn-primary ml-1 mt-1">Save</button>

            </div>
          </div>
        </div>
      </div>

      <div class="accordion position-absolute bottom-0 end-0 w-25" id="accordion_chat">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              General chat
            </button>
          </h2>

          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
            data-bs-parent="#accordion_chat">
            <div class="accordion-body">
              <p id="gc_room_name" class="fw-bold fs-5">Room name</p>
              <div id="gc_msg_area" class="px-1 py-1 bg-white overflow-auto" style="height: 35vh;">
                <!-- Template their Message-->
                <div class="th_msg media d-flex mb-1" style="display: none!important; clear: both;">
                  <div class="media-body ml-3">
                    <p class="th_username small fw-bold m-0">Username</p>
                    <div class="bg-light rounded py-1 px-3 mb-2">
                      <p class="th_txt text-small text-break mb-0">Test which is a new approach all solutions</p>
                    </div>
                    <!-- <p class="small text-muted">12:00 PM | Aug 13</p> -->
                  </div>
                </div>
                <!-- Template my Message-->
                <div class="my_msg media d-flex ms-auto float-end mb-1" style="display: none!important; clear: both;">
                  <div class="media-body">
                    <div class="bg-primary rounded py-1 px-3 mb-2">
                      <p class="my_txt text-small text-break mb-0 text-white">Test which is a new approach to have all
                        solutions
                      </p>
                    </div>
                    <!-- <p class="small text-muted">12:00 PM | Aug 13</p> -->
                  </div>
                </div>
              </div>
              <div id="gc_input_area">
                <div class="input-group">
                  <input id="gc_input" type="text" class="form-control" placeholder="Your message"
                    aria-label="Your message" aria-describedby="basic-addon2">
                  <div class="input-group-append">
                    <button id="gc_button" class="btn btn-outline-secondary" type="button">Send</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <script src="./managers/friendsManager.js"></script>
      <script src="./managers/chatManager.js"></script>
      <script src="libs/gl-matrix.js"></script>
      <script src="libs/litegl.js"></script>
      <script src="https://tamats.com/projects/rendeer/build/rendeer.js"></script>
      <script src="libs/wbin.js"></script>
      <script src="libs/walkArea.js"></script>
      <script src="./managers/animationsManager.js"></script>
      <script src="./scene/scene.js"></script>
      <script src="./managers/clientMessagesManager.js"></script>
      <script src="serverClient.js"></script>
      <script src="./scene/venv.js"></script>
    </div>
    <div class="row" id="init_page" style="height: 90vh;">
      <!-- Join room area -->
      <div id="join_room_area" class="col bg-light text-dark d-flex justify-content-center align-items-center">
        <div id="join_room_content">
          <h1 id="join_room_area_title" class="mb-1">Join Room</h1>
          <form id="join_room_form" method="POST" style="width: 275px" autocomplete="new-password">
            <label for="join_room_name" class="my-1">Room name:</label>
            <input type="text" id="join_room_name" name="join_room_name" value="" class="form-control" required
              autocomplete="new-password">
            <!-- <label for="join_room_scode" class="my-1">Secret Code:</label>
                        <input type="password" id="join_room_scode" name="join_room_scode" value="" class="form-control"
                            required autocomplete="new-password"> -->
            <input type="submit" value="Join" class="btn btn-dark my-3">
          </form>
        </div>
      </div>
      <!-- Join area enter secret code popup -->
      <div id="join_room_pu_fake_bg" class="position-absolute bg-dark"
        style="opacity: 0.8 !important;display:none;width:100vw;height: 90vh;"></div>
      <div id="join_room_pu_area"
        class="col bg-light text-dark d-flex justify-content-center align-items-center position-absolute top-50 start-50 translate-middle w-25 border border-dark rounded"
        style="display:none!important;">
        <div id="join_room_pu_content">
          <h1 id="join_room_pu_area_title" class="my-1">Room Name</h1>
          <form id="join_room_pu_form" method="POST" autocomplete="new-password">
            <label for="join_room_pu_scode" class="my-1">Secret Code:</label>
            <input type="password" id="join_room_pu_scode" name="join_room_pu_scode" value="" class="form-control"
              required autocomplete="new-password">
            <input type="submit" value="Join" class="btn btn-dark my-3">
          </form>
        </div>
      </div>

      <script type="text/javascript" src="./forms/join_room_form.js"></script>
      <!-- End Join room area -->

      <!-- Create room area -->
      <div id="create_room_area" class="col bg-dark text-white d-flex justify-content-center align-items-center">
        <div id="create_room_content">
          <h1 id="create_room_area_title">Create Room</h1>
          <form id="create_room_form" method="POST" class="mb-1" style="width: 275px" autocomplete="new-password">
            <label for="create_room_name" class="my-1">Room name:</label>
            <input type="text" id="create_room_name" name="create_room_name" value="" class="form-control" required
              autocomplete="new-password" pattern="^[0-9a-zA-Z]{5,20}$">
            <div class="form-check mt-2">
              <input class="form-check-input" type="checkbox" value="" id="create_room_private">
              <label class="form-check-label" for="flexCheckDefault">Private room</label>
            </div>
            <label for="create_room_scode" class="my-1" id="create_room_scode_label" style="display: none;">Secret
              Code:</label>
            <input type="password" id="create_room_scode" name="create_room_scode" value="" class="form-control"
              autocomplete="new-password" style="display: none;" pattern="^[0-9a-zA-Z]{5,20}$">
            <input type="submit" value="Create" class="btn btn-light my-3">
          </form>
        </div>
      </div>

      <script type="text/javascript" src="./forms/create_room_form.js"></script>
      <!-- End Create room area -->
    </div>
  </div>
  <div id="login_page" class="container vh-100 vw-100" style="max-width: none;">
    <div class="position-absolute start-50 translate-middle-x my-5" style="width:25vw; height:50vh">
      <img src="./data/logos/fan_match_logo.png" alt="Title image" class="img-fluid"
        style="max-height:100%; margin-left: auto; margin-right: auto; display: block;">
    </div>
    <div class="row vh-100">
      <!-- Login area -->
      <div id="login_area" class="col bg-light text-dark d-flex justify-content-center align-items-center">
        <div id="login_content">
          <h1 id="login_area_title" class="mb-1">Login</h1>
          <form id="login_form" method="POST" style="width: 275px">
            <label for="log_email" class="my-1">Email:</label>
            <input type="text" id="log_email" name="log_email" value="" class="form-control">
            <label for="log_password" class="my-1">Password:</label>
            <input type="password" id="log_password" name="log_password" value="" class="form-control">
            <a id="forgotten_pass_link" href="">
              <div>Have you forgotten your password?</div>
            </a>
            <input type="submit" value="Login" class="btn btn-dark my-3">
          </form>
        </div>
      </div>

      <script type="text/javascript" src="./forms/login_form.js"></script>
      <!-- End Login area -->

      <!-- Register area -->
      <div id="register_area" class="col bg-dark text-white d-flex justify-content-center align-items-center">
        <div id="register_content">
          <h1 id="register_area_title">Register</h1>
          <form id="register_form" method="POST" class="mb-1" style="width: 275px" autocomplete="new-password">
            <label for="reg_username" class="my-1">Username:</label>
            <input type="text" id="reg_username" name="reg_username" value="" class="form-control" required
              pattern="^(?=.{5,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$" autocomplete="new-password">
            <label for="reg_email" class="my-1">Email:</label>
            <input type="email" id="reg_email" name="reg_email" value="" class="form-control" required
              autocomplete="new-password">
            <label for="reg_password" class="my-1">Password:</label>
            <input type="password" id="reg_password" name="reg_password" value="" class="form-control" required
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" autocomplete="new-password">
            <input type="submit" value="Register" class="btn btn-light my-3">
          </form>
        </div>
      </div>

      <script type="text/javascript" src="./forms/register_form.js"></script>
      <!-- End Register area -->

      <!-- Forgot Password area -->
      <div id="forgotten_pass_area" class="col bg-dark text-white d-flex justify-content-center align-items-center"
        style="display:none!important;">
        <div id="forgotten_pass_content">
          <h1 id="forgotten_pass_area_title">Password recovery</h1>
          <form id="forgotten_pass_form" method="POST" class="mb-1" style="width: 275px">
            <label for="fp_email" class="my-1">Email:</label>
            <input type="email" id="fp_email" name="fp_email" value="" class="form-control" required>
            <input type="submit" value="Send" class="btn btn-light my-3">
          </form>
          <form id="forgotten_pass_code_form" method="POST" class="mb-1" style="display:none; width: 275px"
            autocomplete="new-password">
            <label for="fp_code" class="my-1">Verification code:</label>
            <input type="text" id="fp_code" name="fp_code" value="" class="form-control" required
              autocomplete="new-password">
            <input type="submit" value="Send" class="btn btn-light my-3">
          </form>
          <form id="forgotten_pass_new_pass_form" method="POST" class="mb-1" style="display:none; width: 275px"
            autocomplete="new-password">
            <label for="fp_password" class="my-1">New password:</label>
            <input type="password" id="fp_password" name="fp_password" value="" class="form-control" required
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" autocomplete="new-password">
            <input type="submit" value="Send" class="btn btn-light my-3">
          </form>
        </div>
      </div>

      <script type="text/javascript" src="./forms/forgotten_pass_form.js"></script>
      <!-- End Forgot Password area -->
    </div>
  </div>
</body>

</html>